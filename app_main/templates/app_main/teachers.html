{% extends 'base.html' %}

{% block content %}
<div class="flex flex-col items-center justify-center mb-4 bg-white rounded px-8 pt-6 pb-8 mb-4 ">
    <a href="{% url 'teacher_create' %}" class="inline-block w-1/2 text-center py-2 px-4 border border-green-600 rounded bg-green-600 text-white hover:bg-green-700 hover:border-green-700 shadow-md">
        New teacher
    </a>
    <br>

    {% for teacher in teachers %}
        <div class="border border-gray-300 rounded p-4 w-1/2 flex flex-row justify-between items-center mb-4 bg-white shadow-md ">
            <div class="flex items-center space-x-4">
                <a href="{% url 'teacher_detail' id=teacher.id %}" class="font-semibold hover:underline">{{ teacher }}</a>
                <a href="{% url 'teacher_students' id=teacher.id %}" class="text-gray-500 hover:underline">Students</a>
            </div>
            <div class="flex space-x-4">
                <a href="{% url 'teacher_update' id=teacher.id %}" class="border border-yellow-600 rounded py-1 px-2 text-yellow-600 hover:bg-yellow-600 hover:text-white transition duration-200">
                    Update
                </a>
                {% if teacher.student_set.all %}
                    <button disabled class="border border-gray-400 rounded py-1 px-2 bg-gray-400 text-white cursor-not-allowed transition duration-200">
                        Delete
                    </button>
                {% else %}
                    <a href="{% url 'teacher_delete' id=teacher.id %}" class="border border-red-600 rounded py-1 px-2 text-red-600 hover:bg-red-600 hover:text-white transition duration-200">
                        Delete
                    </a>
                {% endif %}
            </div>
        </div>
    {% endfor %}
</div>
{% endblock content %}